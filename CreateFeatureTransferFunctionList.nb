(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 10.3' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[     41635,       1021]
NotebookOptionsPosition[     40769,        989]
NotebookOutlinePosition[     41144,       1005]
CellTagsIndexPosition[     41101,       1002]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{

Cell[CellGroupData[{
Cell[BoxData[{
 RowBox[{
  RowBox[{"validfeatures", "=", 
   RowBox[{"StringSplit", "/@", 
    RowBox[{"StringSplit", "[", 
     RowBox[{
      RowBox[{"Import", "[", 
       RowBox[{
       "\"\<D:\\\\document\\\\work\\\\saliency-experiment\\\\documentation\\\\\
ASFdemos\\\\brm\\\\saliency\\\\random_merged_feature.txt\>\"", ",", 
        "\"\<Text\>\""}], "]"}], ",", "\"\<\\n\>\""}], "]"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"lines2", "=", 
   RowBox[{"Select", "[", 
    RowBox[{
     RowBox[{"validfeatures", "[", 
      RowBox[{"[", 
       RowBox[{"2", ";;"}], "]"}], "]"}], ",", 
     RowBox[{
      RowBox[{
       RowBox[{"ToExpression", "[", 
        RowBox[{"#", "[", 
         RowBox[{"[", "11", "]"}], "]"}], "]"}], "\[NotEqual]", "0"}], 
      "&"}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"filenamelist", "=", 
   RowBox[{
    RowBox[{
     RowBox[{"#", "[", 
      RowBox[{"[", "10", "]"}], "]"}], "&"}], "/@", "lines2"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"datanamelist", "=", 
   RowBox[{
    RowBox[{
     RowBox[{
      RowBox[{"StringReplace", "[", 
       RowBox[{"#", ",", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"\"\<img\\\\\>\"", "\[Rule]", "\"\<\>\""}], ",", 
          RowBox[{"\"\<.png\>\"", "\[Rule]", "\"\<\>\""}]}], "}"}]}], "]"}], 
      "&"}], "/@", "filenamelist"}], "//", "DeleteDuplicates"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"TableForm", "[", 
  RowBox[{"datanamelist", ",", 
   RowBox[{"TableHeadings", "\[Rule]", "Automatic"}]}], "]"}]}], "Input",
 CellChangeTimes->{{3.6555600320181675`*^9, 3.6555600549715514`*^9}, {
  3.655560087432172*^9, 3.6555602348480816`*^9}, {3.655561850757766*^9, 
  3.6555618620529256`*^9}}],

Cell[BoxData[
 TagBox[
  TagBox[GridBox[{
     {"1", "\<\"CT-Knee_naive_optimized_green_1000\"\>"},
     {"2", "\<\"CT-Knee_naive\"\>"},
     {"3", "\<\"CT-Knee_strong_green\"\>"},
     {"4", "\<\"CT-Knee_strong_red\"\>"},
     {"5", "\<\"CT-Knee_weak_green_optimized_green_1000\"\>"},
     {"6", "\<\"CT-Knee_weak_green\"\>"},
     {"7", "\<\"CT-Knee_weak_red_optimized_red_1000\"\>"},
     {"8", "\<\"CT-Knee_weak_red\"\>"},
     {"9", "\<\"engine_medium_green\"\>"},
     {"10", "\<\"engine_naive_optimized_green_1000\"\>"},
     {"11", "\<\"engine_naive\"\>"},
     {"12", "\<\"engine_strong_green\"\>"},
     {"13", "\<\"engine_weak_green\"\>"},
     {"14", "\<\"engine_weak_red_optimized_red_1000\"\>"},
     {"15", "\<\"engine_weak_red\"\>"},
     {"16", "\<\"foot_green_medium_optimized_green_1000\"\>"},
     {"17", "\<\"foot_green_medium\"\>"},
     {"18", "\<\"foot_green_strong\"\>"},
     {"19", "\<\"foot_green_weak\"\>"},
     {"20", "\<\"foot_naive_optimized_green_1000\"\>"},
     {"21", "\<\"foot_naive\"\>"},
     {"22", "\<\"horse_embryo_45_days_naive2_optimized_blue_1000\"\>"},
     {"23", "\<\"horse_embryo_45_days_naive2\"\>"},
     {"24", "\<\"horse_embryo_45_days_naive_optimized_blue_1000\"\>"},
     {"25", "\<\"horse_embryo_45_days_naive\"\>"},
     {"26", "\<\"MRbrain_naive_optimized_green_1000\"\>"},
     {"27", "\<\"MRbrain_naive\"\>"},
     {"28", "\<\"MRbrain_strong_green\"\>"},
     {"29", "\<\"MRbrain_weak_green\"\>"},
     {"30", "\<\"nucleon_naive_optimized_green_1000\"\>"},
     {"31", "\<\"nucleon_naive_optimized_red_1000\"\>"},
     {"32", "\<\"nucleon_naive\"\>"},
     {"33", "\<\"nucleon_strong_red\"\>"},
     {"34", "\<\"nucleon_weak_red\"\>"},
     {"35", "\<\"tooth_naive_optimized_yellow_1000\"\>"},
     {"36", "\<\"tooth_naive\"\>"},
     {"37", "\<\"tooth_strong_yellow\"\>"},
     {"38", "\<\"tooth_weak_yellow_optimized_yellow_1000\"\>"},
     {"39", "\<\"tooth_weak_yellow\"\>"},
     {"40", "\<\"vismale_naive_optimized_green_1000\"\>"},
     {"41", "\<\"vismale_naive_optimized_red_1000\"\>"},
     {"42", "\<\"vismale_naive\"\>"},
     {"43", "\<\"vismale_strong_green\"\>"},
     {"44", "\<\"vismale_strong_red\"\>"},
     {"45", "\<\"vismale_weak_red\"\>"},
     {"46", "\<\"vismale_week_green\"\>"}
    },
    GridBoxAlignment->{
     "Columns" -> {{Left}}, "ColumnsIndexed" -> {}, "Rows" -> {{Baseline}}, 
      "RowsIndexed" -> {}},
    GridBoxDividers->{
     "Columns" -> {False, {True}, False}, "ColumnsIndexed" -> {}, 
      "Rows" -> {{False}}, "RowsIndexed" -> {}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.5599999999999999]}, 
        Offset[0.27999999999999997`]}, "ColumnsIndexed" -> {}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}, "RowsIndexed" -> {}}],
   OutputFormsDump`HeadedColumn],
  Function[BoxForm`e$, 
   TableForm[BoxForm`e$, TableHeadings -> Automatic]]]], "Output",
 CellChangeTimes->{{3.6555601573786817`*^9, 3.655560259586378*^9}, 
   3.655561768360444*^9, {3.655561863523467*^9, 3.6555618797381487`*^9}, 
   3.655561917054961*^9, {3.6555666230986156`*^9, 3.6555666373943267`*^9}, 
   3.655566691147189*^9, 3.6555667339704065`*^9, 3.656949109677782*^9, 
   3.6570095229501905`*^9, 3.657021380338237*^9, 3.6570218610030375`*^9, 
   3.6570222581773834`*^9, 3.65702371140703*^9, 3.6570247480289516`*^9, 
   3.6570250785233593`*^9, 3.657114427440321*^9, 3.657116912533248*^9, 
   3.6571256084054823`*^9, 3.657820233699709*^9, 3.6824496243734417`*^9}]
}, Open  ]],

Cell[BoxData[{
 RowBox[{
  RowBox[{"vorts", "=", 
   RowBox[{
    RowBox[{"(", 
     RowBox[{
      RowBox[{"\"\<vorts\>\"", "<>", 
       RowBox[{"ToString", "[", "#", "]"}]}], "&"}], ")"}], "/@", 
    RowBox[{"Range", "[", "99", "]"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"vortsstatic", "=", 
   RowBox[{
    RowBox[{"(", 
     RowBox[{
      RowBox[{"\"\<vorts\>\"", "<>", 
       RowBox[{"ToString", "[", "#", "]"}], "<>", "\"\<_static\>\""}], "&"}], 
     ")"}], "/@", 
    RowBox[{"Range", "[", "99", "]"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"vortsoptimized", "=", 
   RowBox[{
    RowBox[{"(", 
     RowBox[{
      RowBox[{"\"\<vorts\>\"", "<>", 
       RowBox[{"ToString", "[", "#", "]"}], "<>", 
       "\"\<_optimized_parallelsearch\>\""}], "&"}], ")"}], "/@", 
    RowBox[{"Range", "[", "99", "]"}]}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.6569491245977488`*^9, 3.6569491282160015`*^9}, {
  3.656949163220147*^9, 3.6569491714917393`*^9}, {3.6569492022038727`*^9, 
  3.65694921699807*^9}, {3.6570250139374475`*^9, 3.6570250756352797`*^9}, {
  3.6570253622263117`*^9, 3.657025405237195*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"GenerateTFs", "[", "namelist_", "]"}], ":=", 
  RowBox[{"Table", "[", 
   RowBox[{
    RowBox[{"Module", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
       "xml", ",", "tfifile", ",", "volumefile", ",", "legends", ",", "face", 
        ",", "imagefilenames", ",", "txtfilenames", ",", "featurefilename", 
        ",", "visibilityfilename", ",", "resultxml", ",", "imagefile", ",", 
        "rawfile", ",", "dataname", ",", "tf", ",", "bincount", ",", 
        "intensity", ",", "r", ",", "g", ",", "b", ",", "a", ",", "rgbcolors",
         ",", "rgbfunction", ",", "rgba", ",", "rgbafunction", ",", "alpha", 
        ",", "intensity0", ",", "alpha0", ",", "d", ",", "colorized", ",", 
        "pos", ",", "index", ",", "chartcolors", ",", "viewpoints", ",", 
        "rangeOfAlpha", ",", "plotpath", ",", "imagepath", ",", "tfpath", ",",
         "tflist", ",", "index0"}], "}"}], ",", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"xml", "=", 
        RowBox[{"Import", "[", 
         RowBox[{
          RowBox[{"NotebookDirectory", "[", "]"}], "<>", 
          "\"\<~images\\\\\>\"", "<>", "xmlstr", "<>", "\"\<.xml\>\""}], 
         "]"}]}], ";", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
         "tfifile", ",", "volumefile", ",", "legends", ",", "face", ",", 
          "imagefilenames", ",", "featurefilename", ",", "resultxml", ",", 
          "imagefile", ",", "dataname", ",", "plotpath", ",", "imagepath"}], 
         "}"}], "=", "xml"}], ";", "\[IndentingNewLine]", 
       RowBox[{"tf", "=", 
        RowBox[{"Import", "[", 
         RowBox[{"tfifile", ",", "\"\<XML\>\""}], "]"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"bincount", "=", "256"}], ";", "\[IndentingNewLine]", 
       RowBox[{"intensity", "=", 
        RowBox[{"ToExpression", "@", 
         RowBox[{"Cases", "[", 
          RowBox[{"tf", ",", 
           RowBox[{
            RowBox[{"XMLElement", "[", 
             RowBox[{"\"\<intensity\>\"", ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"\"\<value\>\"", "\[Rule]", "atrib_"}], ",", "___"}], 
               "}"}], ",", "___"}], "]"}], "\[RuleDelayed]", "atrib"}], ",", 
           "\[Infinity]"}], "]"}]}]}], ";", "\[IndentingNewLine]", 
       RowBox[{"r", "=", 
        RowBox[{"ToExpression", "@", 
         RowBox[{"Cases", "[", 
          RowBox[{"tf", ",", 
           RowBox[{
            RowBox[{"XMLElement", "[", 
             RowBox[{"\"\<colorL\>\"", ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"\"\<r\>\"", "\[Rule]", "atrib_"}], ",", "___"}], 
               "}"}], ",", "___"}], "]"}], "\[RuleDelayed]", "atrib"}], ",", 
           "\[Infinity]"}], "]"}]}]}], ";", "\[IndentingNewLine]", 
       RowBox[{"g", "=", 
        RowBox[{"ToExpression", "@", 
         RowBox[{"Cases", "[", 
          RowBox[{"tf", ",", 
           RowBox[{
            RowBox[{"XMLElement", "[", 
             RowBox[{"\"\<colorL\>\"", ",", 
              RowBox[{"{", 
               RowBox[{"___", ",", 
                RowBox[{"\"\<g\>\"", "\[Rule]", "atrib_"}], ",", "___"}], 
               "}"}], ",", "___"}], "]"}], "\[RuleDelayed]", "atrib"}], ",", 
           "\[Infinity]"}], "]"}]}]}], ";", "\[IndentingNewLine]", 
       RowBox[{"b", "=", 
        RowBox[{"ToExpression", "@", 
         RowBox[{"Cases", "[", 
          RowBox[{"tf", ",", 
           RowBox[{
            RowBox[{"XMLElement", "[", 
             RowBox[{"\"\<colorL\>\"", ",", 
              RowBox[{"{", 
               RowBox[{"___", ",", 
                RowBox[{"\"\<b\>\"", "\[Rule]", "atrib_"}], ",", "___"}], 
               "}"}], ",", "___"}], "]"}], "\[RuleDelayed]", "atrib"}], ",", 
           "\[Infinity]"}], "]"}]}]}], ";", "\[IndentingNewLine]", 
       RowBox[{"a", "=", 
        RowBox[{"ToExpression", "@", 
         RowBox[{"Cases", "[", 
          RowBox[{"tf", ",", 
           RowBox[{
            RowBox[{"XMLElement", "[", 
             RowBox[{"\"\<colorL\>\"", ",", 
              RowBox[{"{", 
               RowBox[{"___", ",", 
                RowBox[{"\"\<a\>\"", "\[Rule]", "atrib_"}]}], "}"}], ",", 
              "___"}], "]"}], "\[RuleDelayed]", "atrib"}], ",", 
           "\[Infinity]"}], "]"}]}]}], ";", "\[IndentingNewLine]", 
       RowBox[{"rgbcolors", "=", 
        RowBox[{
         RowBox[{
          RowBox[{"(", 
           RowBox[{
            RowBox[{"#", "/", "255."}], "&"}], ")"}], "/@", 
          RowBox[{"Transpose", "[", 
           RowBox[{"{", 
            RowBox[{"r", ",", "g", ",", "b"}], "}"}], "]"}]}], "//", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{"RGBColor", "/@", "#"}], "&"}], ")"}]}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"rgbfunction", "=", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"Blend", "[", 
           RowBox[{
            RowBox[{"Transpose", "[", 
             RowBox[{"{", 
              RowBox[{"intensity", ",", "rgbcolors"}], "}"}], "]"}], ",", " ",
             "#1"}], "]"}], " ", "&"}], " ", ")"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"rgba", "=", 
        RowBox[{
         RowBox[{
          RowBox[{"(", 
           RowBox[{
            RowBox[{"#", "/", "255."}], "&"}], ")"}], "/@", 
          RowBox[{"Transpose", "[", 
           RowBox[{"{", 
            RowBox[{"r", ",", "g", ",", "b", ",", "a"}], "}"}], "]"}]}], "//", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{"RGBColor", "/@", "#"}], "&"}], ")"}]}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"rgbafunction", "=", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"Blend", "[", 
           RowBox[{
            RowBox[{"Transpose", "[", 
             RowBox[{"{", 
              RowBox[{"intensity", ",", "rgba"}], "}"}], "]"}], ",", " ", 
            "#1"}], "]"}], " ", "&"}], " ", ")"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"alpha", "=", 
        RowBox[{
         RowBox[{"(", 
          RowBox[{
           RowBox[{"#", "/", "255."}], "&"}], ")"}], "/@", "a"}]}], ";", 
       "\[IndentingNewLine]", "\[IndentingNewLine]", 
       RowBox[{"d", " ", "=", " ", 
        RowBox[{"Import", "[", 
         RowBox[{"volumefile", ",", "\"\<Image3D\>\""}], "]"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"pos", "=", 
        RowBox[{
         RowBox[{
          RowBox[{"intensity", "[", 
           RowBox[{"[", "#", "]"}], "]"}], "&"}], "/@", 
         RowBox[{"Flatten", "@", 
          RowBox[{"Position", "[", 
           RowBox[{"alpha", ",", 
            RowBox[{"_", "?", 
             RowBox[{"(", 
              RowBox[{
               RowBox[{"#", "==", "0"}], "&"}], ")"}]}]}], "]"}]}]}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"index", "=", 
        RowBox[{"Flatten", "@", 
         RowBox[{"Position", "[", 
          RowBox[{"alpha", ",", 
           RowBox[{"_", "?", 
            RowBox[{"(", 
             RowBox[{
              RowBox[{"#", ">", "0"}], "&"}], ")"}]}]}], "]"}]}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"chartcolors", "=", 
        RowBox[{
         RowBox[{
          RowBox[{"rgbcolors", "[", 
           RowBox[{"[", "#", "]"}], "]"}], "&"}], "/@", "index"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"viewpoints", "=", 
        RowBox[{"<|", 
         RowBox[{
          RowBox[{"\"\<top\>\"", "\[RuleDelayed]", "Top"}], ",", 
          RowBox[{"\"\<back\>\"", "\[RuleDelayed]", "Back"}], ",", 
          RowBox[{"\"\<left\>\"", "\[RuleDelayed]", "Left"}], ",", 
          RowBox[{"\"\<bottom\>\"", "\[RuleDelayed]", "Bottom"}], ",", 
          RowBox[{"\"\<front\>\"", "\[RuleDelayed]", "Front"}], ",", 
          RowBox[{"\"\<right\>\"", "\[RuleDelayed]", "Right"}]}], "|>"}]}], 
       ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
       RowBox[{"intensity0", "=", "intensity"}], ";", "\[IndentingNewLine]", 
       RowBox[{"alpha0", "=", "alpha"}], ";", "\[IndentingNewLine]", 
       RowBox[{"rangeOfAlpha", "=", 
        RowBox[{"Range", "[", 
         RowBox[{"Length", "[", "alpha", "]"}], "]"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"First", "[", "intensity0", "]"}], ">", "0"}], ",", 
         RowBox[{
          RowBox[{"intensity0", "=", 
           RowBox[{"Join", "[", 
            RowBox[{
             RowBox[{"{", "0", "}"}], ",", "intensity0"}], "]"}]}], ";", 
          RowBox[{"alpha0", "=", 
           RowBox[{"Join", "[", 
            RowBox[{
             RowBox[{"{", "0", "}"}], ",", "alpha0"}], "]"}]}], ";", 
          RowBox[{"rangeOfAlpha", "+=", "1"}]}]}], "]"}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"Last", "[", "intensity0", "]"}], "<", "1"}], ",", 
         RowBox[{
          RowBox[{"intensity0", "=", 
           RowBox[{"Join", "[", 
            RowBox[{"intensity0", ",", 
             RowBox[{"{", "1", "}"}]}], "]"}]}], ";", 
          RowBox[{"alpha0", "=", 
           RowBox[{"Join", "[", 
            RowBox[{"alpha0", ",", 
             RowBox[{"{", "0", "}"}]}], "]"}]}]}]}], "]"}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"index0", "=", 
        RowBox[{"Flatten", "@", 
         RowBox[{"Position", "[", 
          RowBox[{"alpha0", ",", 
           RowBox[{"_", "?", 
            RowBox[{"(", 
             RowBox[{
              RowBox[{"#", ">", "0"}], "&"}], ")"}]}]}], "]"}]}]}], ";", 
       "\[IndentingNewLine]", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"saveTransferFunction", "[", 
         RowBox[{"peaks_", ",", "filename_"}], "]"}], ":=", 
        RowBox[{"Module", "[", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
           "a2", ",", "rgba2", ",", "intensity2", ",", "rgbafunction2", ",", 
            "rgba2denormalized", ",", "xrgba", ",", "strlist", ",", 
            "alphaMode", ",", "gammaValue", ",", "domain", ",", "threshold", 
            ",", "k", ",", "int", ",", "split", ",", "colorL", ",", "keylist",
             ",", "keys", ",", "TransFuncIntensity", ",", "VoreenData", ",", 
            "xmlobject"}], "}"}], ",", "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{"MapIndexed", "[", 
            RowBox[{
             RowBox[{
              RowBox[{"(", 
               RowBox[{
                RowBox[{"alpha0", "[", 
                 RowBox[{"[", "#", "]"}], "]"}], "=", 
                RowBox[{"peaks", "[", 
                 RowBox[{"[", 
                  RowBox[{"First", "@", "#2"}], "]"}], "]"}]}], ")"}], "&"}], 
             ",", "index0"}], "]"}], ";", "\[IndentingNewLine]", 
           RowBox[{"a2", "=", 
            RowBox[{
             RowBox[{
              RowBox[{"IntegerPart", "[", 
               RowBox[{"255", "*", 
                RowBox[{"alpha0", "[", 
                 RowBox[{"[", "#", "]"}], "]"}]}], "]"}], "&"}], "/@", 
             "rangeOfAlpha"}]}], ";", "\[IndentingNewLine]", 
           RowBox[{"rgba2", "=", 
            RowBox[{
             RowBox[{
              RowBox[{"(", 
               RowBox[{
                RowBox[{"#", "/", "255."}], "&"}], ")"}], "/@", 
              RowBox[{"Transpose", "[", 
               RowBox[{"{", 
                RowBox[{"r", ",", "g", ",", "b", ",", "a2"}], "}"}], "]"}]}], 
             "//", 
             RowBox[{"(", 
              RowBox[{
               RowBox[{"RGBColor", "/@", "#"}], "&"}], ")"}]}]}], ";", 
           "\[IndentingNewLine]", 
           RowBox[{"intensity2", "=", 
            RowBox[{
             RowBox[{
              RowBox[{"intensity0", "[", 
               RowBox[{"[", "#", "]"}], "]"}], "&"}], "/@", 
             "rangeOfAlpha"}]}], ";", "\[IndentingNewLine]", 
           RowBox[{"rgbafunction2", "=", 
            RowBox[{"(", 
             RowBox[{
              RowBox[{"Blend", "[", 
               RowBox[{
                RowBox[{"Transpose", "[", 
                 RowBox[{"{", 
                  RowBox[{"intensity2", ",", "rgba2"}], "}"}], "]"}], ",", 
                " ", "#"}], "]"}], " ", "&"}], " ", ")"}]}], ";", 
           RowBox[{"(*", " ", 
            RowBox[{"for", " ", "return", " ", 
             RowBox[{"only", ".", " ", "not"}], " ", "used", " ", "in", " ", 
             "this", " ", "function"}], " ", "*)"}], "\[IndentingNewLine]", 
           "\[IndentingNewLine]", 
           RowBox[{"rgba2denormalized", "=", 
            RowBox[{"Transpose", "[", 
             RowBox[{"{", 
              RowBox[{"r", ",", "g", ",", "b", ",", "a2"}], "}"}], "]"}]}], 
           ";", "\[IndentingNewLine]", 
           RowBox[{"xrgba", "=", 
            RowBox[{"Table", "[", 
             RowBox[{
              RowBox[{"Join", "[", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"intensity2", "[", 
                  RowBox[{"[", "i", "]"}], "]"}], "}"}], ",", 
                RowBox[{"rgba2denormalized", "[", 
                 RowBox[{"[", "i", "]"}], "]"}]}], "]"}], ",", 
              RowBox[{"{", 
               RowBox[{"i", ",", 
                RowBox[{"Length", "[", "intensity2", "]"}]}], "}"}]}], 
             "]"}]}], ";", "\[IndentingNewLine]", 
           RowBox[{"strlist", "=", 
            RowBox[{
             RowBox[{
              RowBox[{"{", 
               RowBox[{
                RowBox[{"ToString", "[", "#1", "]"}], ",", 
                RowBox[{"ToString", "[", "#2", "]"}], ",", 
                RowBox[{"ToString", "[", "#3", "]"}], ",", 
                RowBox[{"ToString", "[", "#4", "]"}], ",", 
                RowBox[{"ToString", "[", "#5", "]"}]}], "}"}], "&"}], "@@@", 
             "xrgba"}]}], ";", "\[IndentingNewLine]", 
           RowBox[{"alphaMode", "=", 
            RowBox[{"XMLElement", "[", 
             RowBox[{"\"\<alphaMode\>\"", ",", 
              RowBox[{"{", 
               RowBox[{"\"\<value\>\"", "\[Rule]", "\"\<1\>\""}], "}"}], ",", 
              RowBox[{"{", "}"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
           RowBox[{"gammaValue", "=", 
            RowBox[{"XMLElement", "[", 
             RowBox[{"\"\<gammaValue\>\"", ",", 
              RowBox[{"{", 
               RowBox[{"\"\<value\>\"", "\[Rule]", "\"\<1\>\""}], "}"}], ",", 
              RowBox[{"{", "}"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
           RowBox[{"domain", "=", 
            RowBox[{"XMLElement", "[", 
             RowBox[{"\"\<domain\>\"", ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"\"\<x\>\"", "\[Rule]", "\"\<0\>\""}], ",", 
                RowBox[{"\"\<y\>\"", "\[Rule]", "\"\<1\>\""}]}], "}"}], ",", 
              RowBox[{"{", "}"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
           RowBox[{"threshold", "=", 
            RowBox[{"XMLElement", "[", 
             RowBox[{"\"\<threshold\>\"", ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"\"\<x\>\"", "\[Rule]", "\"\<0\>\""}], ",", 
                RowBox[{"\"\<y\>\"", "\[Rule]", "\"\<1\>\""}]}], "}"}], ",", 
              RowBox[{"{", "}"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
           RowBox[{"k", "=", 
            RowBox[{
             RowBox[{"(", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{
                 RowBox[{"int", "=", 
                  RowBox[{"XMLElement", "[", 
                   RowBox[{"\"\<intensity\>\"", ",", 
                    RowBox[{"{", 
                    RowBox[{"\"\<value\>\"", "\[Rule]", "#1"}], "}"}], ",", 
                    RowBox[{"{", "}"}]}], "]"}]}], ",", 
                 RowBox[{"split", "=", 
                  RowBox[{"XMLElement", "[", 
                   RowBox[{"\"\<split\>\"", ",", 
                    RowBox[{"{", 
                    RowBox[{"\"\<value\>\"", "\[Rule]", "\"\<false\>\""}], 
                    "}"}], ",", 
                    RowBox[{"{", "}"}]}], "]"}]}], ",", 
                 RowBox[{"colorL", "=", 
                  RowBox[{"XMLElement", "[", 
                   RowBox[{"\"\<colorL\>\"", ",", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"\"\<r\>\"", "\[Rule]", "#2"}], ",", 
                    RowBox[{"\"\<g\>\"", "\[Rule]", "#3"}], ",", 
                    RowBox[{"\"\<b\>\"", "\[Rule]", "#4"}], ",", 
                    RowBox[{"\"\<a\>\"", "\[Rule]", "#5"}]}], "}"}], ",", 
                    RowBox[{"{", "}"}]}], "]"}]}]}], "}"}], "&"}], ")"}], "@@@",
              "strlist"}]}], ";", "\[IndentingNewLine]", 
           RowBox[{"keylist", "=", 
            RowBox[{
             RowBox[{
              RowBox[{"XMLElement", "[", 
               RowBox[{"\"\<key\>\"", ",", 
                RowBox[{"{", 
                 RowBox[{
                 "\"\<type\>\"", "\[Rule]", "\"\<TransFuncMappingKey\>\""}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"#1", ",", "#2", ",", "#3"}], "}"}]}], "]"}], "&"}], 
             "@@@", "k"}]}], ";", "\[IndentingNewLine]", 
           RowBox[{"keys", "=", 
            RowBox[{"XMLElement", "[", 
             RowBox[{"\"\<Keys\>\"", ",", 
              RowBox[{"{", "}"}], ",", "keylist"}], "]"}]}], ";", 
           "\[IndentingNewLine]", 
           RowBox[{"TransFuncIntensity", "=", 
            RowBox[{"XMLElement", "[", 
             RowBox[{"\"\<TransFuncIntensity\>\"", ",", 
              RowBox[{"{", 
               RowBox[{
               "\"\<type\>\"", "\[Rule]", "\"\<TransFuncIntensity\>\""}], 
               "}"}], ",", 
              RowBox[{"{", 
               RowBox[{
               "alphaMode", ",", "gammaValue", ",", "domain", ",", 
                "threshold", ",", "keys"}], "}"}]}], "]"}]}], ";", 
           "\[IndentingNewLine]", 
           RowBox[{"VoreenData", "=", 
            RowBox[{"XMLElement", "[", 
             RowBox[{"\"\<VoreenData\>\"", ",", 
              RowBox[{"{", 
               RowBox[{"\"\<version\>\"", "\[Rule]", "\"\<1\>\""}], "}"}], 
              ",", 
              RowBox[{"{", "TransFuncIntensity", "}"}]}], "]"}]}], ";", 
           "\[IndentingNewLine]", 
           RowBox[{"xmlobject", "=", 
            RowBox[{
             RowBox[{"XMLObject", "[", "\"\<Document\>\"", "]"}], "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{
                RowBox[{
                 RowBox[{"XMLObject", "[", "\"\<Declaration\>\"", "]"}], "[", 
                 RowBox[{"\"\<Version\>\"", "\[Rule]", "\"\<1.0\>\""}], "]"}],
                 ",", 
                RowBox[{
                 RowBox[{"XMLObject", "[", "\"\<Comment\>\"", "]"}], "[", 
                 "\"\<This is a Voreen transfer function exported from \
Mathematica\>\"", "]"}]}], "}"}], ",", "VoreenData", ",", 
              RowBox[{"{", "}"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
           RowBox[{"Export", "[", 
            RowBox[{"filename", ",", "xmlobject", ",", " ", "\"\<XML\>\""}], 
            "]"}], ";", "\[IndentingNewLine]", "rgbafunction2"}]}], 
         "\[IndentingNewLine]", "]"}]}], ";", "\[IndentingNewLine]", 
       "\[IndentingNewLine]", 
       RowBox[{"peaks", "=", 
        RowBox[{
         RowBox[{
          RowBox[{"alpha", "[", 
           RowBox[{"[", "#", "]"}], "]"}], "&"}], "/@", "index"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"tfpath", "=", 
        RowBox[{
         RowBox[{"NotebookDirectory", "[", "]"}], "<>", 
         "\"\<~salience\\\\\>\"", "<>", "dataname", "<>", "\"\<.tfi\>\""}]}], 
       ";", "\[IndentingNewLine]", 
       RowBox[{"saveTransferFunction", "[", 
        RowBox[{"peaks", ",", "tfpath"}], "]"}], ";", "\[IndentingNewLine]", 
       RowBox[{"tflist", "=", 
        RowBox[{"Table", "[", 
         RowBox[{
          RowBox[{"Module", "[", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"p", ",", "tfpath2"}], "}"}], ",", "\[IndentingNewLine]", 
            RowBox[{
             RowBox[{"p", "=", 
              RowBox[{"ConstantArray", "[", 
               RowBox[{"0", ",", 
                RowBox[{"Length", "[", "peaks", "]"}]}], "]"}]}], ";", 
             "\[IndentingNewLine]", 
             RowBox[{
              RowBox[{"p", "[", 
               RowBox[{"[", "i", "]"}], "]"}], "=", 
              RowBox[{"peaks", "[", 
               RowBox[{"[", "i", "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
             RowBox[{"tfpath2", "=", 
              RowBox[{"StringReplace", "[", 
               RowBox[{"tfpath", ",", 
                RowBox[{"\"\<.tfi\>\"", "->", 
                 RowBox[{"\"\<_\>\"", "<>", 
                  RowBox[{"ToString", "[", "i", "]"}], "<>", 
                  "\"\<.tfi\>\""}]}]}], "]"}]}], ";", "\[IndentingNewLine]", 
             RowBox[{"saveTransferFunction", "[", 
              RowBox[{"p", ",", "tfpath2"}], "]"}], ";", 
             "\[IndentingNewLine]", "tfpath2"}]}], "\[IndentingNewLine]", 
           "]"}], ",", 
          RowBox[{"{", 
           RowBox[{"i", ",", 
            RowBox[{"Length", "[", "peaks", "]"}]}], "}"}]}], "]"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"{", 
        RowBox[{"tfpath", ",", "tflist"}], "}"}]}]}], "\[IndentingNewLine]", 
     RowBox[{"(*", 
      RowBox[{
       RowBox[{
        RowBox[{"Image3D", "[", 
         RowBox[{"d", ",", 
          RowBox[{"ColorFunction", "\[Rule]", "#"}], ",", 
          RowBox[{"ViewPoint", "\[Rule]", 
           RowBox[{"viewpoints", "[", "face", "]"}]}]}], "]"}], "&"}], "/@", 
       "tflist"}], "*)"}], "\[IndentingNewLine]", "]"}], ",", 
    RowBox[{"{", 
     RowBox[{"xmlstr", ",", "namelist"}], "}"}]}], "]"}]}]], "Input",
 CellChangeTimes->{{3.655554082405849*^9, 3.655554126774208*^9}, {
   3.6555541605030904`*^9, 3.6555541620885396`*^9}, {3.655554260736865*^9, 
   3.655554300381*^9}, {3.655554512345025*^9, 3.655554536777725*^9}, 
   3.6555547024060297`*^9, {3.6555558736390495`*^9, 3.6555559028725867`*^9}, {
   3.655556193132907*^9, 3.655556244724927*^9}, {3.655556286109581*^9, 
   3.6555563666323977`*^9}, {3.6555566984023867`*^9, 3.655556773811528*^9}, {
   3.6555574772321234`*^9, 3.655557483279252*^9}, {3.655558776668374*^9, 
   3.655558792740161*^9}, {3.6555589711947913`*^9, 3.655559109692063*^9}, {
   3.655559357411625*^9, 3.6555593585879045`*^9}, {3.656949267587334*^9, 
   3.6569492749020004`*^9}, {3.6569493820166545`*^9, 3.656949382250065*^9}, {
   3.656949428585987*^9, 3.656949554646824*^9}, {3.6824492187998886`*^9, 
   3.6824492229603043`*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"pathlist", "=", 
   RowBox[{"GenerateTFs", "[", "datanamelist", "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"vortslist", "=", 
   RowBox[{
    RowBox[{
     RowBox[{"GenerateTFs", "[", "#", "]"}], "&"}], "/@", 
    RowBox[{"{", 
     RowBox[{"vorts", ",", "vortsstatic", ",", "vortsoptimized"}], "}"}]}]}], 
  ";"}]}], "Input",
 CellChangeTimes->{{3.6569495298116393`*^9, 3.656949531338051*^9}, {
   3.6569496302705145`*^9, 3.6569496322150335`*^9}, {3.6570092850700736`*^9, 
   3.6570092852867804`*^9}, {3.657025431519045*^9, 3.657025454139449*^9}, {
   3.6570254862902594`*^9, 3.657025502396682*^9}, {3.6571140082683415`*^9, 
   3.657114051084776*^9}, 3.6571166047771397`*^9}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"GenerateListFiles", "[", 
   RowBox[{"pathlist_", ",", "targetfilename_"}], "]"}], ":=", 
  RowBox[{
   RowBox[{"Table", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"StringReplace", "[", 
        RowBox[{
         RowBox[{"First", "@", "l"}], ",", 
         RowBox[{"\"\<.tfi\>\"", "\[Rule]", "\"\<.png\>\""}]}], "]"}], ",", 
       RowBox[{
        RowBox[{
         RowBox[{"StringReplace", "[", 
          RowBox[{"#", ",", 
           RowBox[{"\"\<.tfi\>\"", "\[Rule]", "\"\<.png\>\""}]}], "]"}], 
         "&"}], "/@", 
        RowBox[{"Last", "@", "l"}]}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"l", ",", "pathlist"}], "}"}]}], "]"}], "//", 
   RowBox[{
    RowBox[{"Export", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"NotebookDirectory", "[", "]"}], "<>", "\"\<~salience\\\\\>\"",
        "<>", "targetfilename", "<>", "\"\<.xml\>\""}], ",", "#"}], "]"}], 
    "&"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ToPythonList", "[", 
   RowBox[{"txtfile_", ",", "rules_"}], "]"}], ":=", 
  RowBox[{"Export", "[", 
   RowBox[{"txtfile", ",", 
    RowBox[{"StringReplace", "[", 
     RowBox[{
      RowBox[{"Import", "[", "txtfile", "]"}], ",", "rules"}], "]"}]}], 
   "]"}]}]}], "Input",
 CellChangeTimes->{{3.6570092055410357`*^9, 3.6570092707259865`*^9}, {
  3.657023319442828*^9, 3.65702335308297*^9}, {3.6570237053559847`*^9, 
  3.657023705584508*^9}, {3.6571142295623627`*^9, 3.6571142807871933`*^9}, {
  3.6571143645180745`*^9, 3.657114381891162*^9}, {3.6571168352788634`*^9, 
  3.6571168387362175`*^9}, {3.657116880926233*^9, 3.6571168870859118`*^9}}],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"names", "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<CT-Knee\>\"", ",", "\"\<engine\>\"", ",", "\"\<foot\>\"", ",", 
     "\"\<horse_embryo_45_days\>\"", ",", "\"\<MRbrain\>\"", ",", 
     "\"\<nucleon\>\"", ",", "\"\<tooth\>\"", ",", "\"\<vismale\>\""}], 
    "}"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"GenerateListFiles", "[", 
    RowBox[{"pathlist", ",", "names", ",", "\"\<pnglist\>\""}], "]"}], ";"}], 
  "\[IndentingNewLine]", 
  RowBox[{"(*", " ", 
   RowBox[{
   "group", " ", "the", " ", "path", " ", "and", " ", "filenames", " ", "by", 
    " ", "data", " ", "set", " ", "names"}], " ", 
   "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"Table", "[", 
    RowBox[{
     RowBox[{"Select", "[", 
      RowBox[{
       RowBox[{"Flatten", "[", "pathlist", "]"}], ",", 
       RowBox[{
        RowBox[{"StringContainsQ", "[", 
         RowBox[{"#", ",", "i"}], "]"}], "&"}]}], "]"}], ",", 
     RowBox[{"{", 
      RowBox[{"i", ",", "names"}], "}"}]}], "]"}], "//", 
   RowBox[{
    RowBox[{"Export", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"NotebookDirectory", "[", "]"}], "<>", 
       "\"\<~salience\\\\pnglist.txt\>\""}], ",", "#"}], "]"}], "&"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"ToPythonList", "[", 
  RowBox[{
   RowBox[{
    RowBox[{"NotebookDirectory", "[", "]"}], "<>", 
    "\"\<~salience\\\\pnglist.txt\>\""}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"\"\<{\>\"", "\[Rule]", "\"\<[\>\""}], ",", 
     RowBox[{"\"\<}\>\"", "\[Rule]", "\"\<]\>\""}]}], "}"}]}], 
  "]"}]}], "Input",
 CellChangeTimes->{{3.6555575509765415`*^9, 3.6555575566535187`*^9}, {
   3.6555576471672697`*^9, 3.655557714057126*^9}, {3.6555577503153925`*^9, 
   3.6555578647495084`*^9}, {3.6555579701470137`*^9, 3.655558085739484*^9}, {
   3.6555588064078894`*^9, 3.655558864974907*^9}, {3.6555591263537292`*^9, 
   3.6555591315918527`*^9}, {3.655559185172614*^9, 3.6555591940986447`*^9}, {
   3.655559410172371*^9, 3.655559468482501*^9}, {3.6555598528697414`*^9, 
   3.655559872949812*^9}, {3.65556659941998*^9, 3.6555666353574095`*^9}, {
   3.6569487857872663`*^9, 3.6569488278036118`*^9}, {3.6569498165106945`*^9, 
   3.6569498767490797`*^9}, {3.657008951509787*^9, 3.657009040209711*^9}, {
   3.65700907636983*^9, 3.6570091164349656`*^9}, {3.6570093298478565`*^9, 
   3.6570094687395997`*^9}, {3.6570095108213015`*^9, 3.657009512475862*^9}, {
   3.657021458978544*^9, 3.657021493838747*^9}, {3.6570215570444994`*^9, 
   3.6570215600443845`*^9}, {3.657023278471608*^9, 3.657023311012416*^9}, 
   3.6570233447094135`*^9, {3.657023378977605*^9, 3.657023379714572*^9}, 
   3.6570254541550765`*^9, {3.6570255074099298`*^9, 3.6570255568031516`*^9}, {
   3.657113971272822*^9, 3.6571139972749233`*^9}, {3.6571140590153294`*^9, 
   3.6571141458944693`*^9}, 3.657116626315425*^9, {3.6571166735008197`*^9, 
   3.6571166950984974`*^9}, 3.6571169053397036`*^9}],

Cell[BoxData["\<\"D:\\\\document\\\\work\\\\time-varying-visualization\\\\~\
salience\\\\pnglist.txt\"\>"], "Output",
 CellChangeTimes->{3.657116975655546*^9, 3.657125673857278*^9, 
  3.6824496826982737`*^9}]
}, Open  ]],

Cell[BoxData[{
 RowBox[{
  RowBox[{"vortsnames", "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<vortslist1\>\"", ",", "\"\<vortslist2\>\"", ",", 
     "\"\<vortslist3\>\""}], "}"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Table", "[", 
   RowBox[{
    RowBox[{"GenerateListFiles", "[", 
     RowBox[{
      RowBox[{"vortslist", "[", 
       RowBox[{"[", "i", "]"}], "]"}], ",", 
      RowBox[{"vortsnames", "[", 
       RowBox[{"[", "i", "]"}], "]"}]}], "]"}], ",", 
    RowBox[{"{", 
     RowBox[{"i", ",", 
      RowBox[{"Length", "[", "vortslist", "]"}]}], "}"}]}], "]"}], 
  ";"}]}], "Input"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", " ", 
   RowBox[{
   "flatten", " ", "the", " ", "inside", " ", "of", " ", "filename", " ", 
    "list"}], " ", "*)"}], "\[IndentingNewLine]", 
  RowBox[{"Table", "[", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"Export", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"NotebookDirectory", "[", "]"}], "<>", 
        "\"\<~salience\\\\\>\"", "<>", 
        RowBox[{"vortsnames", "[", 
         RowBox[{"[", "i", "]"}], "]"}], "<>", "\"\<.txt\>\""}], ",", 
       RowBox[{
        RowBox[{
         RowBox[{"Flatten", "[", "#", "]"}], "&"}], "/@", 
        RowBox[{"vortslist", "[", 
         RowBox[{"[", "i", "]"}], "]"}]}]}], "]"}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"ToPythonList", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"NotebookDirectory", "[", "]"}], "<>", 
        "\"\<~salience\\\\\>\"", "<>", 
        RowBox[{"vortsnames", "[", 
         RowBox[{"[", "i", "]"}], "]"}], "<>", "\"\<.txt\>\""}], ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"\"\<\\n\>\"", "\[Rule]", "\"\<, \>\""}], ",", 
         RowBox[{"\"\<{\>\"", "\[Rule]", "\"\<[\>\""}], ",", 
         RowBox[{"\"\<}\>\"", "\[Rule]", "\"\<]\>\""}]}], "}"}]}], "]"}]}], 
    "\[IndentingNewLine]", ",", 
    RowBox[{"{", 
     RowBox[{"i", ",", 
      RowBox[{"Length", "[", "vortslist", "]"}]}], "}"}]}], "]"}]}]], "Input",
 CellChangeTimes->{{3.6570233870746455`*^9, 3.6570234191128645`*^9}, 
   3.657023469464512*^9, {3.6570236070673637`*^9, 3.657023627654914*^9}, {
   3.6570255527140512`*^9, 3.657025561721902*^9}, {3.6571139882033186`*^9, 
   3.657113989328344*^9}, {3.6571143040026855`*^9, 3.6571143533894567`*^9}, {
   3.657114396415455*^9, 3.6571143966342*^9}, {3.6571167625359573`*^9, 
   3.6571167630672097`*^9}, {3.6571167952036057`*^9, 3.6571168707131186`*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"\<\"D:\\\\document\\\\work\\\\time-varying-visualization\\\\~\
salience\\\\vortslist1.txt\"\>", 
   ",", "\<\"D:\\\\document\\\\work\\\\time-varying-visualization\\\\~\
salience\\\\vortslist2.txt\"\>", 
   ",", "\<\"D:\\\\document\\\\work\\\\time-varying-visualization\\\\~\
salience\\\\vortslist3.txt\"\>"}], "}"}]], "Output",
 CellChangeTimes->{3.6571145048684464`*^9, 3.657116976111107*^9, 
  3.657125674285861*^9, 3.682449682999304*^9}]
}, Open  ]],

Cell[BoxData[""], "Input",
 CellChangeTimes->{{3.6570216117785788`*^9, 3.657021640430673*^9}, {
   3.657021715292391*^9, 3.657021768808489*^9}, 3.6570224430322175`*^9, {
   3.6570224839499846`*^9, 3.6570224841061993`*^9}, {3.65702254689235*^9, 
   3.6570225470727606`*^9}, {3.6570227232715807`*^9, 3.65702272616809*^9}, {
   3.6570229173359175`*^9, 3.6570229454918537`*^9}, 3.6570229783240433`*^9, {
   3.65702301087236*^9, 3.6570230112473216`*^9}, {3.657023041680247*^9, 
   3.657023110936819*^9}, {3.6570231451599874`*^9, 3.6570231468876095`*^9}, 
   3.6570234152553616`*^9, {3.657023633040161*^9, 3.657023689732288*^9}, 
   3.6570254541550765`*^9, 3.657025560103408*^9}],

Cell[BoxData[
 RowBox[{"(*", 
  RowBox[{"(*", " ", 
   RowBox[{
   "group", " ", "the", " ", "path", " ", "and", " ", "filenames", " ", "by", 
    " ", "data", " ", "set", " ", "names"}], " ", "*)"}], 
  "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{
     RowBox[{"Table", "[", 
      RowBox[{
       RowBox[{"Select", "[", 
        RowBox[{"flat", ",", 
         RowBox[{
          RowBox[{"StringContainsQ", "[", 
           RowBox[{"#", ",", "i"}], "]"}], "&"}]}], "]"}], ",", 
       RowBox[{"{", 
        RowBox[{"i", ",", "names"}], "}"}]}], "]"}], "//", 
     RowBox[{
      RowBox[{"Export", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"NotebookDirectory", "[", "]"}], "<>", 
         "\"\<~salience\\\\\>\"", "<>", "tfilist"}], ",", "#"}], "]"}], 
      "&"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"Table", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"StringReplace", "[", 
          RowBox[{
           RowBox[{"First", "@", "l"}], ",", 
           RowBox[{"\"\<.tfi\>\"", "\[Rule]", "\"\<.png\>\""}]}], "]"}], ",", 
         RowBox[{
          RowBox[{
           RowBox[{"StringReplace", "[", 
            RowBox[{"#", ",", 
             RowBox[{"\"\<.tfi\>\"", "\[Rule]", "\"\<.png\>\""}]}], "]"}], 
           "&"}], "/@", 
          RowBox[{"Last", "@", "l"}]}]}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"l", ",", "pathlist"}], "}"}]}], "]"}], "//", 
     RowBox[{
      RowBox[{"Export", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"NotebookDirectory", "[", "]"}], "<>", 
         "\"\<~salience\\\\\>\"", "<>", "pnglist"}], ",", "#"}], "]"}], 
      "&"}]}], ";"}]}], "\[IndentingNewLine]", 
  RowBox[{"(*", 
   RowBox[{"TableForm", "[", 
    RowBox[{"flat", ",", 
     RowBox[{"TableHeadings", "\[Rule]", "Automatic"}]}], "]"}], "*)"}], 
  "*)"}]], "Input"]
},
WindowSize->{1920, 1100},
WindowMargins->{{-9, Automatic}, {Automatic, -9}},
Magnification:>1.45 Inherited,
FrontEndVersion->"11.0 for Microsoft Windows (64-bit) (July 28, 2016)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[CellGroupData[{
Cell[580, 22, 1760, 50, 156, "Input"],
Cell[2343, 74, 3531, 73, 1184, "Output"]
}, Open  ]],
Cell[5889, 150, 1144, 30, 100, "Input"],
Cell[7036, 182, 22593, 518, 2088, "Input"],
Cell[29632, 702, 732, 17, 72, "Input"],
Cell[30367, 721, 1646, 42, 100, "Input"],
Cell[CellGroupData[{
Cell[32038, 767, 2957, 65, 156, "Input"],
Cell[34998, 834, 208, 3, 43, "Output"]
}, Open  ]],
Cell[35221, 840, 608, 19, 72, "Input"],
Cell[CellGroupData[{
Cell[35854, 863, 1848, 43, 156, "Input"],
Cell[37705, 908, 480, 9, 72, "Output"]
}, Open  ]],
Cell[38200, 920, 673, 9, 43, "Input"],
Cell[38876, 931, 1889, 56, 161, "Input"]
}
]
*)

